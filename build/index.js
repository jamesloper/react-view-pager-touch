module.exports=function(t){var e={};function s(i){if(e[i])return e[i].exports;var n=e[i]={i:i,l:!1,exports:{}};return t[i].call(n.exports,n,n.exports,s),n.l=!0,n.exports}return s.m=t,s.c=e,s.d=function(t,e,i){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},s.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(s.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)s.d(i,n,function(e){return t[e]}.bind(null,n));return i},s.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="",s(s.s=1)}([function(t,e){t.exports=require("react")},function(t,e,s){"use strict";s.r(e);var i=s(0),n=s.n(i);const o=.25,h=300,r=(t,e,s)=>{const i=Math.min(s,50)/50;return(t*(1-i)||0)+e*i};var a=class{constructor(){return this}initialize(t){this.originX=t.touches?t.touches[0].screenX:t.screenX,this.originY=t.touches?t.touches[0].screenY:t.screenY,this.locked=!1,this.vx=0,this.sx=0,this.lastTime=Date.now(),this.lastX=this.originX,this.touch=!0}track(t){return this.x=t.touches?t.touches[0].screenX:t.screenX,this.y=t.touches?t.touches[0].screenY:t.screenY,this._logVelocity(),this.dx=this.x-this.originX,this.dy=this.y-this.originY,this.absX=Math.abs(this.dx),this.absY=Math.abs(this.dy),this.locked||(!t.cancelable||this.absY>10?this.locked="v":this.absX>10&&(this.locked="h")),"h"===this.locked&&t.preventDefault(),this}release(){return this._logVelocity(),this.touch=!1,this.sx=Math.abs(this.vx),this.sx>.5&&this.sx<1.2&&(this.sx=1.2),this.flick=this.sx>=o,this}_logVelocity(){const t=Date.now(),e=t-this.lastTime;if(e>0){const s=(this.x-this.lastX)/e;this.vx=r(this.vx,s,e),this.lastTime=t,this.lastX=this.x}}};let c="transform";if("undefined"!=typeof document){const t=document.createElement("div").style;c=["transform","webkitTransform","OTransform","MozTransform","msTransform"].find(e=>e in t)}let l=!0;"undefined"!=typeof navigator&&(l=!!navigator.userAgent.match("iPhone OS"));const u=(t,e,s)=>t<e?e:t>s?s:t,d=t=>--t*t*t+1;class m extends i.Component{constructor(t){super(t),this.scrollTo=this.scrollTo.bind(this),this.coastToPage=this.coastToPage.bind(this),this.renderPage=this.renderPage.bind(this),this.touchStart=this.touchStart.bind(this),this.touchMove=this.touchMove.bind(this),this.touchEnd=this.touchEnd.bind(this),this.updateWidth=this.updateWidth.bind(this),this.state={screenWidth:0,width:0},this.travelingToPage=t.currentPage,this.pan=new a}componentDidUpdate(){const{currentPage:t}=this.props;this.travelingToPage!==t&&this.coastToPage(t,!1,!1)}componentDidMount(){const{items:t,minPage:e,currentPage:s}=this.props,i=this.el.clientWidth;addEventListener("resize",this.updateWidth),this.el.addEventListener("touchstart",this.touchStart),this.el.addEventListener("touchmove",this.touchMove),this.el.addEventListener("touchend",this.touchEnd),this.el.addEventListener("mousedown",this.touchStart),document.addEventListener("mousemove",this.touchMove),document.addEventListener("mouseup",this.touchEnd),this.minX=e*i,this.maxX=(t.length-1)*i,this.travelingToPage=s,this.updateWidth()}updateWidth(){const t=this.el.clientWidth;this.setState({width:t},()=>{this.scrollTo(this.travelingToPage*t)})}componentWillUnmount(){removeEventListener("resize",this.updateWidth),document.removeEventListener("mousemove",this.touchMove),document.removeEventListener("mouseup",this.touchEnd)}render(){const{id:t,className:e,items:s}=this.props,i=["view-pager"];return e&&i.push(e),n.a.createElement("div",{id:t,className:i.join(" "),ref:t=>this.el=t},n.a.createElement("div",{className:"over over-left",ref:t=>this.overLeft=t}),n.a.createElement("div",{className:"over over-right",ref:t=>this.overRight=t}),n.a.createElement("div",{className:"view-pager-canvas",ref:t=>this.canvas=t},s.map(this.renderPage)))}renderPage(t,e){const{renderItem:s,lazy:i,currentPage:o}=this.props;return n.a.createElement("div",{key:e,className:"view-pager-view"},i&&e!==o?null:s(t,e))}scrollTo(t){const{width:e}=this.state;if(t<this.minX||t>this.maxX)if(l)t<this.minX&&(t-=(t-this.minX)/2),t>this.maxX&&(t-=(t-this.maxX)/2);else if(t<this.minX){let s=-(t-this.minX);t=this.minX,this.overLeft.style[c]=`scaleX(${s/e})`,this.overLeft.classList.remove("ease-x")}else if(t>this.maxX){let s=t-this.maxX;t=this.maxX,this.overRight.style[c]=`scaleX(${s/e})`,this.overRight.classList.remove("ease-x")}this.x=Math.round(t),this.canvas.style[c]=`translate3d(${-1*this.x}px,0,0)`}touchStart(t){this.startX=this.x,this.pan.initialize(t),this.moved=!1}touchMove(t){const{onDragStart:e}=this.props;if(this.pan.touch){const{dx:s,locked:i}=this.pan.track(t);"h"===i&&(this.scrollTo(this.startX-s),this.moved||(e(),this.moved=!0))}}touchEnd(){if(!this.pan.touch)return;const{vx:t,flick:e,locked:s}=this.pan.release(),{width:i}=this.state;if("h"===s){if(e){let e=this.travelingToPage-Math.sign(t);this.coastToPage(e,!0,!0)}else{let t=Math.round(this.x/i);this.coastToPage(t,!1,!0)}l||(this.overLeft.classList.add("ease-x"),this.overLeft.style[c]="scaleX(0)",this.overRight.classList.add("ease-x"),this.overRight.style[c]="scaleX(0)")}}coastToPage(t,e,s){const{minPage:i,onPageSelected:n,currentPage:o,items:r}=this.props,{width:a}=this.state;this.travelingToPage=u(t,i,r.length-1);const c=this.x,l=this.travelingToPage*a,m=l-c,v=Date.now();let g=h;e&&(g=Math.abs(m/this.pan.sx));let f=0;const p=()=>{if(!this.pan.touch)if((f=Date.now()-v)>=g)this.scrollTo(l),s&&n({position:this.travelingToPage,previous:o,offset:Math.sign(this.travelingToPage-o),item:r[this.travelingToPage]});else{const t=m*d(f/g);this.scrollTo(c+t),requestAnimationFrame(p)}};p()}}var v,g,f;f={items:[],currentPage:0,minPage:0,className:"",onDragStart:()=>null,lazy:!1},(g="defaultProps")in(v=m)?Object.defineProperty(v,g,{value:f,enumerable:!0,configurable:!0,writable:!0}):v[g]=f;e.default=m}]);